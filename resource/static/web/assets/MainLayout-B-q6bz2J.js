import{_ as F,u as R,a as U,r as h,z as C,E as k,i as j,j as q,k as A,c as b,d as s,f as V,l as e,p as l,q as y,t as u,e as n,n as r,m as B,s as G,o as $,x as T,y as H,A as J,B as K,C as O,D as P,F as Q,G as X}from"./index-D3SxXfTO.js";const Y={class:"layout"},Z={class:"header"},x={class:"logo-container"},ee={class:"logo"},te={class:"header-right"},se={class:"lang-switch"},ae={class:"user-info"},ne={class:"username"},le={class:"main-container"},oe={class:"nav-menu"},ie={class:"content"},ue={__name:"MainLayout",setup(re){const{t:o,locale:_,i18n:I}=R(),z=U(),N=G(),p=h(_.value),L=h(_.value==="zh-hans"?C:k),g=h(window.innerWidth),m=h(!1),i=j(()=>g.value<=768),w=()=>{g.value=window.innerWidth,g.value>768?m.value=!0:m.value=!1},M=()=>{m.value=!m.value},c=()=>{m.value=!1},E=t=>{localStorage.setItem("locale",t),_.value=t,p.value=t,I.global.locale.value=t,L.value=t==="zh-hans"?C:k,document.documentElement.lang=t==="zh-hans"?"zh-CN":"en",document.title=o("system.name"),window.location.reload()};q(()=>{const t=localStorage.getItem("locale");t&&(_.value=t,p.value=t,L.value=t==="zh-hans"?C:k,document.documentElement.lang=t==="zh-hans"?"zh-CN":"en",document.title=o("system.name")),w(),window.addEventListener("resize",w)}),A(()=>{window.removeEventListener("resize",w)});const W=async()=>{try{await B.confirm("logout"),z.logout(),N.push("/login")}catch(t){if(t==="cancel")return;B.error(t.message,"server")}};return(t,a)=>{var S;const d=y("el-icon"),f=y("router-link"),D=y("router-view");return $(),b("div",Y,[s("header",Z,[s("div",x,[i.value?($(),b("button",{key:0,class:"menu-toggle",onClick:M},[e(d,null,{default:l(()=>[e(n(T))]),_:1})])):V("",!0),s("div",ee,u(n(o)("system.name")),1)]),s("div",te,[s("div",se,[s("button",{onClick:a[0]||(a[0]=v=>E("zh-hans")),class:r({active:p.value==="zh-hans"})}," 中文 ",2),s("button",{onClick:a[1]||(a[1]=v=>E("en")),class:r({active:p.value==="en"})}," English ",2)]),s("div",ae,[s("span",ne,u(((S=n(z).userInfo)==null?void 0:S.Email)||"User"),1),s("button",{class:"logout-btn",onClick:W},u(n(o)("common.logout")),1)])])]),s("div",le,[i.value&&m.value?($(),b("div",{key:0,class:"sidebar-overlay",onClick:c})):V("",!0),s("aside",{class:r(["sidebar",{"sidebar-visible":i.value&&m.value}])},[s("nav",oe,[e(f,{to:"/audit-logs",class:r(["nav-item",{active:t.$route.path==="/audit-logs"}]),onClick:a[2]||(a[2]=v=>i.value&&c())},{default:l(()=>[e(d,null,{default:l(()=>[e(n(H))]),_:1}),s("span",null,u(n(o)("auditLog.title")),1)]),_:1},8,["class"]),e(f,{to:"/",class:r(["nav-item",{active:t.$route.path==="/"}]),onClick:a[3]||(a[3]=v=>i.value&&c())},{default:l(()=>[e(d,null,{default:l(()=>[e(n(J))]),_:1}),s("span",null,u(n(o)("products.title")),1)]),_:1},8,["class"]),e(f,{to:"/product-features",class:r(["nav-item",{active:t.$route.path==="/product-features"}]),onClick:a[4]||(a[4]=v=>i.value&&c())},{default:l(()=>[e(d,null,{default:l(()=>[e(n(K))]),_:1}),s("span",null,u(n(o)("productFeatures.title")),1)]),_:1},8,["class"]),e(f,{to:"/license-types",class:r(["nav-item",{active:t.$route.path==="/license-types"}]),onClick:a[5]||(a[5]=v=>i.value&&c())},{default:l(()=>[e(d,null,{default:l(()=>[e(n(O))]),_:1}),s("span",null,u(n(o)("licenseTypes.title")),1)]),_:1},8,["class"]),e(f,{to:"/firmware-versions",class:r(["nav-item",{active:t.$route.path==="/firmware-versions"}]),onClick:a[6]||(a[6]=v=>i.value&&c())},{default:l(()=>[e(d,null,{default:l(()=>[e(n(P))]),_:1}),s("span",null,u(n(o)("firmwareVersions.title")),1)]),_:1},8,["class"]),e(f,{to:"/software-versions",class:r(["nav-item",{active:t.$route.path==="/software-versions"}]),onClick:a[7]||(a[7]=v=>i.value&&c())},{default:l(()=>[e(d,null,{default:l(()=>[e(n(Q))]),_:1}),s("span",null,u(n(o)("softwareVersions.title")),1)]),_:1},8,["class"]),e(f,{to:"/devices",class:r(["nav-item",{active:t.$route.path==="/devices"}]),onClick:a[8]||(a[8]=v=>i.value&&c())},{default:l(()=>[e(d,null,{default:l(()=>[e(n(X))]),_:1}),s("span",null,u(n(o)("devices.title")),1)]),_:1},8,["class"])])],2),s("main",ie,[e(D)])])])}}},de=F(ue,[["__scopeId","data-v-5def2f44"]]);export{de as default};
