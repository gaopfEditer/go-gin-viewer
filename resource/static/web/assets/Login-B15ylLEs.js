import{_ as M,u as P,a as x,r as u,b as C,c as _,d as s,t as a,e as i,n as w,w as f,f as L,g as v,v as p,o as b,m as h,h as k}from"./index-D3SxXfTO.js";const B={class:"login-container"},H={class:"login-wrapper"},S={class:"login-left"},q={class:"company-info"},I={class:"login-right"},U={class:"login-box"},D={class:"login-header"},E={class:"lang-switch"},N={class:"form-group"},$={for:"email"},j={class:"input-wrapper"},O=["placeholder"],R={class:"form-group"},T={for:"password"},A={class:"input-wrapper"},F=["placeholder"],G={key:0,class:"form-group"},J={class:"input-wrapper"},K=["placeholder"],Q={class:"form-group"},W=["disabled"],X={class:"switch-mode"},Y={__name:"Login",setup(Z){const{t:o,locale:g}=P(),V=x(),d=u(!1),c=u(g.value),l=u(!0),t=C({email:"",password:"",confirmPassword:""}),m=n=>{g.value=n,c.value=n,localStorage.setItem("locale",n)},y=()=>{l.value=!l.value,Object.assign(t,{email:"",password:"",confirmPassword:""})},z=async()=>{if(!l.value&&t.password!==t.confirmPassword){h.error(o("register.passwordMismatch","validation"));return}d.value=!0;try{l.value?await V.login(t):(await k.register(t),h.success(o("message.success.register")),l.value=!0,t.password="")}catch(n){debugger;h.error(n.message,"server")}finally{d.value=!1}};return(n,e)=>(b(),_("div",B,[s("div",H,[s("div",S,[s("div",q,[s("h1",null,a(i(o)("system.name")),1),s("p",null,a(i(o)("system.description")),1)])]),s("div",I,[s("div",U,[s("div",D,[s("h2",null,a(i(o)(l.value?"login.title":"register.title")),1),s("div",E,[s("button",{onClick:e[0]||(e[0]=r=>m("zh-hans")),class:w({active:c.value==="zh-hans"})}," 中文 ",2),s("button",{onClick:e[1]||(e[1]=r=>m("en")),class:w({active:c.value==="en"})}," English ",2)])]),s("form",{onSubmit:f(z,["prevent"]),class:"login-form"},[s("div",N,[s("label",$,a(i(o)("login.email")),1),s("div",j,[e[5]||(e[5]=s("svg",{class:"icon",viewBox:"0 0 1024 1024",width:"16",height:"16"},[s("path",{d:"M896 192H128c-35.2 0-64 28.8-64 64v512c0 35.2 28.8 64 64 64h768c35.2 0 64-28.8 64-64V256c0-35.2-28.8-64-64-64zm0 64v64L512 576 128 320v-64h768zM128 704v-300.8l384 256 384-256V704H128z",fill:"currentColor"})],-1)),v(s("input",{type:"email",id:"email","onUpdate:modelValue":e[2]||(e[2]=r=>t.email=r),placeholder:i(o)("login.emailPlaceholder"),required:""},null,8,O),[[p,t.email]])])]),s("div",R,[s("label",T,a(i(o)("login.password")),1),s("div",A,[e[6]||(e[6]=s("svg",{class:"icon",viewBox:"0 0 1024 1024",width:"16",height:"16"},[s("path",{d:"M832 464h-68v-128c0-132.8-108.8-240-240-240s-240 107.2-240 240v128h-68c-35.2 0-64 28.8-64 64v384c0 35.2 28.8 64 64 64h616c35.2 0 64-28.8 64-64V528c0-35.2-28.8-64-64-64zM352 336c0-94.4 76.8-172 172-172s172 77.6 172 172v128H352V336zm476 576H196V528h632v384z",fill:"currentColor"})],-1)),v(s("input",{type:"password",id:"password","onUpdate:modelValue":e[3]||(e[3]=r=>t.password=r),placeholder:i(o)("login.passwordPlaceholder"),required:"",minlength:"6"},null,8,F),[[p,t.password]])])]),l.value?L("",!0):(b(),_("div",G,[s("label",null,a(i(o)("register.confirmPassword")),1),s("div",J,[e[7]||(e[7]=s("svg",{class:"icon",viewBox:"0 0 1024 1024",width:"16",height:"16"},[s("path",{d:"M832 464h-68v-128c0-132.8-108.8-240-240-240s-240 107.2-240 240v128h-68c-35.2 0-64 28.8-64 64v384c0 35.2 28.8 64 64 64h616c35.2 0 64-28.8 64-64V528c0-35.2-28.8-64-64-64zM352 336c0-94.4 76.8-172 172-172s172 77.6 172 172v128H352V336zm476 576H196V528h632v384z",fill:"currentColor"})],-1)),v(s("input",{type:"password","onUpdate:modelValue":e[4]||(e[4]=r=>t.confirmPassword=r),placeholder:i(o)("register.confirmPasswordPlaceholder"),required:""},null,8,K),[[p,t.confirmPassword]])])])),s("div",Q,[s("button",{type:"submit",disabled:d.value,class:"login-button"},a(d.value?i(o)("login.loading"):i(o)(l.value?"login.button":"register.button")),9,W)]),s("div",X,[s("a",{href:"#",onClick:f(y,["prevent"])},a(i(o)(l.value?"login.toRegister":"login.toLogin")),1)])],32)])])])]))}},es=M(Y,[["__scopeId","data-v-a16b91cd"]]);export{es as default};
